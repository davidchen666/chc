<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
	<title>Javascript规范</title>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
	<meta content="" name="description"/>
	<meta content="" name="author"/>
	<meta name="MobileOptimized" content="320">
	<link rel="shortcut icon" href="favicon.ico" />
	<link href="../resources/css/public.css" rel="stylesheet" type="text/css"/>
	<link id="style_themes" href="../resources/css/themes-default.css" rel="stylesheet" type="text/css"/>
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
	
	<!--[if !IE]><!-->
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
	<!--<![endif]-->
	
	
</head>
<body>

<div class="header navbar navbar-inverse navbar-fixed-top">

    <div class="header-inner">
    
        <!-- BEGIN LOGO -->
        <a class="navbar-brand logo" href="index.html">
            <i class="icon icon-logo-analytics"></i>
        </a>
        <!-- END LOGO -->
        <ul class="nav navbar-nav">
        
            <li class="active">
                <a href="javascript:;">实例</a>
            </li>
            <li>
                <a href="https://github.com/hypers/pagurian" target="_blank">源码下载</a>
            </li>
        </ul>

        <div class="nav_right">
            
            <ul class="nav userbar pull-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        系统管理员
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#"><i class="fa fa-user"></i>  基本信息</a></li>
                        <li><a href="#"><i class="fa fa-envelope"></i>  我的消息</a></li>
                        <li><a href="#"><i class="fa fa-power-off"></i>  退出系统</a></li>
                    </ul>
                </li>
            </ul>
            
        </div>

    </div>
 
</div>
<div class="clearfix"></div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
	
	<div class="page-sidebar-wrapper">
	    <div class="page-sidebar navbar-collapse collapse">
	        <!-- BEGIN SIDEBAR MENU -->
	        <ul class="page-sidebar-menu">
	                <li  class="open">
	                    <a href="javascript:;">
	                        <i class="fa fa-picture-o"></i>
	                        <span class="title">主题</span>
	                        <span class="arrow open"></span>
	                    </a>
	                     <ul class="sub-menu">
	                        <li>
	                            <a href="theme-color.html">配色 Color</a>
	                        </li>
	                        <li>
	                            <a href="theme-buttons.html">按钮 Button</a>
	                        </li>
	                    </ul>
	                </li>
	                <li  class="open">
	                    <a href="javascript:;">
	                        <i class="fa fa-briefcase"></i>
	                        <span class="title">组件</span>
	                        <span class="arrow open"></span>
	                    </a>
	                     <ul class="sub-menu">
	                        <li>
	                            <a href="com-form.html">表单 Form</a>
	                        </li>
	                        <li>
	                            <a href="com-dialogs.html">模态窗口 Dialog</a>
	                        </li>
	                        <li>
	                            <a href="com-alert.html">警告框 Alert</a>
	                        </li>
	                        <li>
	                            <a href="com-tooltip.html">提示框 Tooltip</a>
	                        </li>
	                        <li>
	                            <a href="com-popover.html">弹出框 Popover</a>
	                        </li>
	                    </ul>
	                </li>
	                <li  class="open">
	                    <a href="javascript:;">
	                        <i class="fa fa-puzzle-piece"></i>
	                        <span class="title">插件</span>
	                        <span class="arrow open"></span>
	                    </a>
	                     <ul class="sub-menu">
	                        <li>
	                            <a href="datatable.html">DataTables</a>
	                        </li>
	                        <li>
	                            <a href="irsdatatable.html">艾瑞图表</a>
	                        </li>
	                        <li>
	                            <a href="echarts-line.html">Echarts</a>
	                        </li>
	                        <li>
	                            <a href="datepicker.html">Date Pickers</a>
	                        </li>
	                    </ul>
	                </li>
	                <li  class="open">
	                    <a href="javascript:;">
	                        <i class="fa fa-pagelines"></i>
	                        <span class="title">单页</span>
	                        <span class="arrow open"></span>
	                    </a>
	                     <ul class="sub-menu">
	                        <li>
	                            <a href="page-login.html">登录</a>
	                        </li>
	                    </ul>
	                </li>
	                <li  class="open">
	                    <a href="javascript:;">
	                        <i class="fa fa-bookmark"></i>
	                        <span class="title">前端规范</span>
	                        <span class="arrow open"></span>
	                    </a>
	                     <ul class="sub-menu">
	                        <li>
	                            <a href="styleguide-catalogue.html">目录设计</a>
	                        </li>
	                        <li>
	                            <a href="styleguide-js.html">Javascript规范</a>
	                        </li>
	                        <li>
	                            <a href="styleguide-css.html">CSS规范</a>
	                        </li>
	                    </ul>
	                </li>
	
	        </ul>
	        <!-- END SIDEBAR MENU -->
	    </div>
	</div>
	<!-- BEGIN CONTENT -->
	<div class="page-content-wrapper">
		
		<div class="page-content">
			<div class="theme-panel hidden-xs hidden-sm">
			    <div class="toggler" style="display: block;">
			    </div>
			    <div class="toggler-close" style="display: none;">
			    </div>
			    <div class="theme-options" style="display: none;">
			        <div class="theme-option theme-colors clearfix">
			            <span>
			                模版颜色
			            </span>
			            <ul>
			                <li data-style="green" class="color-green current color-default"></li>
			                <li data-style="blue" class="color-blue"></li>
			                <li data-style="purple" class="color-purple "></li>
			                <li data-style="orange" class="color-orange"></li>
			                <li data-style="red" class="color-red"></li>
			            </ul>
			        </div>
			    </div>
			</div>            <div class="row">
                <div class="col-md-12">
                    <h3 class="page-title">
                    Javascript规范
                    </h3>
                </div>
            </div>

<div class="row">
<div class="col-md-12">

<!--markdown-->
<div class="markdown">


<ul>
<li>文件编码：utf-8</li>
<li>换行符号：UNIX</li>
<li>缩进格式：使用Tab键盘，Tab宽度为４个空格</li>
<li>语句必须都有分号结尾，除了for, function, if, switch, try, while</li>
<li><p>只有长语句可以考虑断行，如：</p>

<pre class="prettyprint"><code class="language-js hljs ">TEMPL_SONGLIST.replace(<span class="hljs-string">'{TABLE}'</span>, da[<span class="hljs-string">'results'</span>])
              .replace(<span class="hljs-string">'{PREV_NUM}'</span>, prev)
              .replace(<span class="hljs-string">'{NEXT_NUM}'</span>, next)
              .replace(<span class="hljs-string">'{CURRENT_NUM}'</span>, current)
              .replace(<span class="hljs-string">'{TOTAL_NUM}'</span>, da.page_total);</code></pre>

<p>为了避免和JSLint的检验机制冲突，“.”或“＋”这类操作符放在行尾，上面代码应改为：</p>

<pre class="prettyprint"><code class="language-js hljs ">TEMPL_SONGLIST.replace(<span class="hljs-string">'{TABLE}'</span>, da[<span class="hljs-string">'results'</span>]).
               replace(<span class="hljs-string">'{PREV_NUM}'</span>, prev).
               replace(<span class="hljs-string">'{NEXT_NUM}'</span>, next).
               replace(<span class="hljs-string">'{CURRENT_NUM}'</span>, current).
               replace(<span class="hljs-string">'{TOTAL_NUM}'</span>, da.page_total);</code></pre></li>
<li>避免额外的逗号,如：var arr = [1,2,3,]</li>
<li><p>所有的循环体和判断体都需要用”{}”括起来,如　如，错误的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-keyword">if</span> (condition)
     statement;
 <span class="hljs-comment">/* 或 */</span>
<span class="hljs-keyword">if</span> (condition) statement;</code></pre>

<p>正确的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
 <span class="hljs-keyword">if</span> (condition) {
     statement;
 }
 <span class="hljs-comment">/** 或 **/</span>
 <span class="hljs-keyword">if</span> (condition) { statement; }</code></pre></li>
<li>for-in循环体中必须用hasOwnProperty方法检查成员是否为自身成员。避免来自原型链上的污染</li>
<li><p>变量声明。变量声明应放在function的最上面。避免使用未声明的变量. 错误：</p>

<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">var</span> isvalid = <span class="hljs-literal">true</span>;
} </code></pre>

<p>正确的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-keyword">var</span> isvalid;
<span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
    isvalid = <span class="hljs-literal">true</span>;
}  </code></pre></li>
<li>不要使用with, void, eval</li>
<li>使用严格的条件判断符。用===代替==，用!==代替!=</li>
<li>下面类型的对象不建议用new构造：new Number, new String, new Boolean, new Object(用{}代替), new Array(用[]代替)</li>
<li>引用对象成员用obj.prop1代替obj[“prop1”]，除非属性名是变量</li>
</ul>



<h3 id="javascript-命名规则">JavaScript 命名规则</h3>

<ul>
<li><p>构造器的首字母大写,如：</p>

<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Dialog</span> <span class="hljs-params">(config)</span> {</span>
   statement;
}
<span class="hljs-keyword">var</span> dlg = <span class="hljs-keyword">new</span> Dialog({...});</code></pre></li>
<li><p>对象的属性或方法名采用小驼峰式(lower camel-case)，如”init”, “bindEvent”, “updatePosition”：  </p>

<pre class="prettyprint"><code class="language-js hljs ">
Dialog.prototype = {
   init: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>},
   bindEvent: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>},
   updatePosition: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>}
 ...
};</code></pre></li>
<li>私有变量名用下划线开头。如：”_current”, “_defaultConfig”</li>
<li>常量名全部大写，单词间用下划线分隔。如：“CSS_BTN_CLOSE”, “TXT_LOADING”</li>
</ul>



<h3 id="javascript-格式化要求">JavaScript 格式化要求</h3>

<ul>
<li><p>语句中的必要空格和缩进</p>

<ul><li>用来包含语句的”()”前后需要跟空格，诸如： if / for / while / switch ( statements ) { … } 等</li>
<li>“=”前后需要跟空格</li>
<li>数组成员间的”,”后面需要跟空格 <br>
不好的： <br>
<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-keyword">for</span> (t <span class="hljs-keyword">in</span> selected) { <span class="hljs-keyword">if</span> (!hash[t]) deselect(t) }</code></pre></li></ul>

<p>好的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
<span class="hljs-keyword">for</span> ( t <span class="hljs-keyword">in</span> selected ) { 
    <span class="hljs-keyword">if</span> ( !hash[t] ) {
        deselect(t); 
    }
}</code></pre></li>
<li><p>长语句采用断行 <br>
不好的:</p>

<pre class="prettyprint"><code class="language-js hljs ">
TEMPL_SONGLIST.replace(<span class="hljs-string">'{TABLE}'</span>, da[<span class="hljs-string">'results'</span>]).replace(<span class="hljs-string">'{PREV_NUM}'</span>, prev).replace(<span class="hljs-string">'{NEXT_NUM}'</span>, next).replace(<span class="hljs-string">'{CURRENT_NUM}'</span>, current).replace(<span class="hljs-string">'{TOTAL_NUM}'</span>, da.page_total);</code></pre>

<p>好的:</p>

<pre class="prettyprint"><code class="language-js hljs ">TEMPL_SONGLIST.replace(<span class="hljs-string">'{TABLE}'</span>, da[<span class="hljs-string">'results'</span>]).
               replace(<span class="hljs-string">'{PREV_NUM}'</span>, prev).
               replace(<span class="hljs-string">'{NEXT_NUM}'</span>, next).
               replace(<span class="hljs-string">'{CURRENT_NUM}'</span>, current).
               replace(<span class="hljs-string">'{TOTAL_NUM}'</span>, da.page_total);</code></pre></li>
<li><p>格式化对象参数 <br>
不好的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
embedSWF(id, { url: <span class="hljs-string">'/swf/player30792.swf?url='</span> + el.href, width: <span class="hljs-number">261</span>, height: <span class="hljs-number">30</span>, params: { wmode:<span class="hljs-string">'transparent'</span> }, attributes: { id: <span class="hljs-string">"player-sample"</span> + i, name: <span class="hljs-string">"player-sample"</span> + i }});
</code></pre>

<p>好的：</p>

<pre class="prettyprint"><code class="language-js hljs ">
embedSWF(id, {
    url: <span class="hljs-string">'/swf/player30792.swf?url='</span> + el.href, 
    width: <span class="hljs-number">261</span>,
    height: <span class="hljs-number">30</span>,
    params: { wmode:<span class="hljs-string">'transparent'</span> },
    attributes: {
        id: <span class="hljs-string">"player-sample"</span> + i,
        name: <span class="hljs-string">"player-sample"</span> + i
    }
});</code></pre></li>
</ul>
</div>
<!--end markdown-->	
</div>
</div>
		</div>


	</div>
	<!-- END CONTENT -->
</div>
<!-- END CONTAINER -->

<div class="footer fixed">
    <span class="copyright">COPYRIGHT HYPERS 2014</span>

    
    <div class="link">
        <a href="https://github.com/hypers/pagurian/issues" target="_blank">问题反馈</a>
    </div>
</div>
<script src="../../pagurian.js" ></script>

<!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<div style="display:none">
    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1254744731'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D1254744731' type='text/javascript'%3E%3C/script%3E"));</script>
</div><script type="text/javascript">
	pagurian.call("modules/styleguide/app", function(app) {
		app.page.javascript();
	});
</script>


</body>
</html>